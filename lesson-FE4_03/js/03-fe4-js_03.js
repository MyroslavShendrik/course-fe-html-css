console.log(
    '%c 3.–í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—î—é Intersection Observer) ',
    'color: white; background-color: #D33F49',
);

//! –í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—î—é Intersection Observer)
console.warn(`–í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—î—é Intersection Observer)‚Äã‚Äã: \n ${((window.location.href).split('/')).slice(0, -2).join('/') + '/'}${"lesson-FE4_03/images/observer-concept.gif"}`);
//? ‚ú¥Ô∏è Intersection Observer API
//? ‚Äì —Ü–µ —Å—É—á–∞—Å–Ω–∞ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è JavaScript,
//? —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏
//? –ø–µ—Ä–µ—Ç–∏–Ω–∞–Ω–Ω—è (–≤—Ö–æ–¥–∂–µ–Ω–Ω—è/–≤–∏—Ö—ñ–¥) –µ–ª–µ–º–µ–Ω—Ç–∞ (Target)
//? –∑ –≤–∏–¥–∏–º–æ—ó –æ–±–ª–∞—Å—Ç—ñ (Root -> viewport)
//? –∞–±–æ —ñ–Ω—à–æ–≥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

//? üìå –ö–æ–ª–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Intersection Observer:
//?    üî∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª—ñ–Ω–∏–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è(lazy - loading),
//?    üî∏ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø–æ—è–≤—É —Å–µ–∫—Ü—ñ–π –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ–π —á–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó),
//?    üî∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—É –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è (infinite scroll),
//?    üî∏ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–∫–ª–∞–º–∏ –∞–±–æ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

//? ‚ö†Ô∏è –ü–µ—Ä–µ–≤–∞–≥–∏ –ø–µ—Ä–µ–¥ scroll - –ø–æ–¥—ñ—è–º–∏:
//?    ‚úÖ –ë—ñ–ª—å—à –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ (–Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–µ–Ω –ø—ñ–∫—Å–µ–ª—å –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è),
//?    ‚úÖ –ù–µ –≤–∏–º–∞–≥–∞—î throttling/debounce,
//?    ‚úÖ –ü—Ä–∞—Ü—é—î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫—É—î –æ—Å–Ω–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫.
console.log(
    `%c
    IntersectionObserver(callback, options):
    üî∏ callback - —Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤—Ö–æ–¥—ñ/–≤–∏—Ö–æ–¥—ñ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ –∑–æ–Ω—É –≤–∏–¥–∏–º–æ—Å—Ç—ñ.
    üî∏ options –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏:
        üî∏ root: –µ–ª–µ–º–µ–Ω—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —â–æ–¥–æ —è–∫–æ–≥–æ –≤–µ—Å—Ç–∏ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (–∑–∞ —É–º–æ–≤—á–∞–Ω–Ω—è–º viewport);
        üî∏ threshold: —á–∞—Å—Ç–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –µ–ª–µ–º–µ–Ω—Ç–∞ (0 - –Ω–∞–≤—ñ—Ç—å 1px, 1.0 - –ø–æ–≤–Ω—ñ—Å—Ç—é);
        üî∏ rootMargin: –≤—ñ–¥—Å—Ç—É–ø–∏ –Ω–∞–≤–∫–æ–ª–æ root.
    `,
    'color: blue; font-size: 18px',
);
console.log(". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .");


//! –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Intersection Observer
console.warn("–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Intersection Observer:");
const target = document.getElementById("target");

const observer = new IntersectionObserver(
    (entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                console.log("–ï–ª–µ–º–µ–Ω—Ç –≤–∏–¥–Ω–æ!");
                target.style.background = "lightgreen";
            } else {
                console.log("–ï–ª–µ–º–µ–Ω—Ç –ø—ñ—à–æ–≤ —ñ–∑ –∑–æ–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç—ñ...");
                target.style.background = "yellow";
            }
        }
        );
    },
    {
        threshold: 0.5, //todo: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ 50% –æ–±'—î–∫—Ç–∞ –≤–∏–¥–Ω–æ
    }
);

observer.observe(target);

console.log("-----------------------------------------------------------------");